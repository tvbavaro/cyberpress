import{t as S,s as T,D as x,m as I,_ as g,r as o,o as i,a as n,b as e,d as p,e as v,F as f,f as w,p as k,l as D,g as b,h as V,i as U,j,c as h,k as A}from"./index-cf7b8c24.js";import{h as M}from"./heading-item-285f7999.js";const q={props:{title:{type:String,requared:!0},createdAt:{type:String,requared:!0},time:{type:Number,requared:!0},imgUrl:{type:String,requared:!0},text:{type:String,requared:!0},tags:{type:Array,requared:!1}},components:{timesetItem:S,socialIcons:T,headingItem:M},computed:{domain(){return x},createdDate(){return new Date(this.createdAt).toGMTString().match(/([A-Za-z]{3}\s\d{2})|(\d{2}:\d{2})/g).join(", ")}},methods:{...I({setSearchTagVuex:"setSearchTag"}),handleClickSetSearchTag(s){this.setSearchTagVuex(s),this.$router.push({name:"main"})}}},C={class:"main-article"},N={class:"main-article__wrapper"},B={class:"main-article__heading-wrapper"},G=["src"],$={class:"main-article__wrapper-content"},z={class:"main-article__text"},E={class:"main-article__footer"},F={class:"tags"},P=["onClick"],W={class:"share"},L={class:"share__wrapper"},O=e("span",{class:"share__heading"},"Share on:",-1);function Z(s,l,c,y,t,r){const m=o("headingItem"),_=o("timesetItem"),u=o("socialIcons");return i(),n("article",C,[e("div",N,[e("div",B,[p(m,{class:"main-article__heading",title:c.title},null,8,["title"]),p(_,{createdDate:r.createdDate,time:c.time},null,8,["createdDate","time"])]),e("img",{src:`${r.domain+c.imgUrl}`,alt:"",class:"main-article__img"},null,8,G),e("div",$,[e("p",z,v(c.text),1),e("div",E,[e("div",F,[(i(!0),n(f,null,w(c.tags,d=>(i(),n("ul",{class:"tags__column",key:d},[e("li",{class:"tags__item",onClick:a=>r.handleClickSetSearchTag(d)},v(d),9,P)]))),128))]),e("div",W,[e("div",L,[O,p(u,{class:"main-article__social"})])])])])])])}const H=g(q,[["render",Z]]),J={data(){return{paper:null,recommended:null,similar:null}},props:{id:{type:String,required:!0}},components:{previewArticle:k,mainArticle:H,loadItem:D},created(){this.getData()},computed:{...b({deviceTypeVuex:"deviceType",isTablet:"isTablet",isMobile:"isMobile"}),domain(){return x},imgUrl(){return this.paper.img[this.deviceTypeVuex]},tags(){return this.paper.tags.split(/\s/)},dataIsReady(){return this.paper!==null}},methods:{async getData(){this.paper=await V(this.id),this.recommended=await U(this.id,this.tags);const s=this.recommended.map(l=>l.id);this.similar=await j([this.id,...s],Array.from(this.paper.categories)).then(l=>l[0])}},watch:{async id(){this.paper=this.recommended=this.similar=null,this.getData()}}},K={key:0,class:"project"},Q={class:"project__grid"},X={key:0,class:"recommended project__recommended"},Y={class:"recommended__wrapper"},R=e("span",{class:"recommended__heading"},"Recommended",-1),ee={class:"recommended__articles-wrapper"},te={key:1,class:"similar project__similar"},ie={class:"similar__wrapper"},se=e("span",{class:"similar__heading"},"Similar to",-1);function re(s,l,c,y,t,r){var d;const m=o("mainArticle"),_=o("previewArticle"),u=o("loadItem");return r.dataIsReady?(i(),n("div",K,[e("div",Q,[p(m,{class:"project__main-paper",title:t.paper.title,text:t.paper.text_article,tags:r.tags,imgUrl:r.imgUrl,createdAt:t.paper.createdAt,time:t.paper.time_to_read},null,8,["title","text","tags","imgUrl","createdAt","time"]),(d=t.recommended)!=null&&d.length?(i(),n("aside",X,[e("div",Y,[R,e("div",ee,[(i(!0),n(f,null,w(t.recommended.slice(0,2),(a,oe)=>(i(),h(_,{id:a.id,imgUrl:a.img[this.deviceTypeVuex],header:a.title,text:a.text_preview,time:a.time_to_read,createdAt:a.createdAt,key:a.id},null,8,["id","imgUrl","header","text","time","createdAt"]))),128))])])])):A("",!0),t.similar?(i(),n("div",te,[e("div",ie,[se,(i(),h(_,{id:t.similar.id,class:"project__horizontal",imgUrl:t.similar.img[this.deviceTypeVuex],isTablet:s.isTablet,isMobile:s.isMobile,isWideArticleDescription:!s.deviceTypeVuex==="mobile",header:t.similar.title,text:t.similar.text_preview,time:t.similar.time_to_read,createdAt:t.similar.createdAt,key:t.similar.id},null,8,["id","imgUrl","isTablet","isMobile","isWideArticleDescription","header","text","time","createdAt"]))])])):A("",!0)])])):(i(),h(u,{key:1}))}const ae=g(J,[["render",re]]),ce={components:{paperGrid:ae}};function ne(s,l,c,y,t,r){const m=o("paperGrid");return i(),h(m)}const me=g(ce,[["render",ne]]);export{me as default};
